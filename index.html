<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>首页</title>
  <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="./css/index.css">
  <link rel="stylesheet" href="./css/common.css">
  <link rel="stylesheet" href="./css/iconfont.css">
  <link rel="stylesheet" href="./css/user.css">
  <link rel="stylesheet" href="./lib/easyScroll.min.css">
  <link rel="stylesheet" href="./lib/dcalendar.picker.css">
  <script src="./lib/jquery-1.9.1.min.js"></script>
  <script src="./bootstrap/js/bootstrap.min.js"></script>
  <script src="./lib/dcalendar.picker.js"></script>
  <script type="text/javascript" src="./lib/easyscroll.js"></script>
</head>
<script>
  function pageGo(path) {
    window.open(path, '_self')
  }
</script>

<body>
  <!-- 加载头部文件 -->
  <div class="header" id="header"> </div>
  <!-- 主要部分 -->
  <div id='contantBox'></div>
  <!-- 加载尾部文件 -->
  <div class="footer" id="footer"> </div>
  <!-- 公共对话框 -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
            ×
          </button>
          <h4 class="modal-title" id="myModalLabel">
            温馨提示
          </h4>
        </div>
        <div class="modal-body">
          <img src="./image/index/err.png" alt="">
          <p> 手机号用作您的身份认证，便于忘记找回密码，请您认真填 写您的手机号 </p>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">
            关闭
          </button>
          <button type="button" class="btn btn-primary" data-dismiss="modal">
            确定
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- 公告框 -->
  <div class="modal fade" id="announcement" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
            ×
          </button>
          <h4 class="modal-title" id="myModalLabel">
            系统公告_棋牌游戏种类公告
          </h4>
        </div>
        <div class="modal-body" id="announcement_scroll">


          <div style="width:100%;height:100%">
            <h3> 尊敬的各位会员： </h3>
            <p>
              为了给大家带来更好的娱乐体验，平台目前已经上线了开元棋牌和761棋牌供大家来娱乐，其中开元棋牌的游戏种类有：极速炸金花、炸金花、德州扑克、三公、二八杠、二十一点、通比牛牛、抢庄牛牛、百人牛牛、斗地主、森林舞会、抢庄牌九、压庄龙虎、百家乐、十三水；761棋牌的游戏种类有：李逵劈鱼、牛牛专区、炸金花、二八杠、欢乐十三秒、飞禽走兽、金蟾捕鱼、德州扑克、百人牛牛、龙虎、奔驰宝马。欢迎大家前来选择自己喜欢的游戏种类进行娱乐，如有任何问题请联系平台在线客服进行咨询，感谢大家长久以来对我们网站的大力支持！
              为了给大家带来更好的娱乐体验，平台目前已经上线了开元棋牌和761棋牌供大家来娱乐，其中开元棋牌的游戏种类有：极速炸金花、炸金花、德州扑克、三公、二八杠、二十一点、通比牛牛、抢庄牛牛、百人牛牛、斗地主、森林舞会、抢庄牌九、压庄龙虎、百家乐、十三水；761棋牌的游戏种类有：李逵劈鱼、牛牛专区、炸金花、二八杠、欢乐十三秒、飞禽走兽、金蟾捕鱼、德州扑克、百人牛牛、龙虎、奔驰宝马。欢迎大家前来选择自己喜欢的游戏种类进行娱乐，如有任何问题请联系平台在线客服进行咨询，感谢大家长久以来对我们网站的大力支持！
            </p>

            <h4> 诚信为本，服务至上 ---- 娱乐平台 </h4>
          </div>
        </div>
      </div>

    </div>
  </div>
  </div>

</body>

</html>

<script>
  var getUrlKey = function (name) {
    return (
      decodeURIComponent(
        (new RegExp("[?|&]" + name + "=" + "([^&;]+?)(&|#|;|$)").exec(
          location.href
        ) || [, ""])[1].replace(/\+/g, "%20")
      ) || null
    );
  }

  $(function () {
    var meunDom = {
      title: 'title',
      headerNav: "#headerNav li[data-link]",
      contantBox: "#contantBox",
      loadFile: "#loadFile",
      header: "#header",
      headerMeun: "#headerMeun",
      footer: "#footer",
      navLogo: ".nav_bottom_main .logo",
      footerLogo: ".footer_main img",
      LotteryZone: '#Lottery_zone',
      LotteryZoneDd: '#Lottery_zone dd',
      lotteryMeun: '.lottery_meun',
      userCenter: '#user_center',
      userCenterDd: '#user_center dd',
      userMeun: '.user_meun',
      userCenterMeun: '#userCenter_meun li',
      userCenterMeunList: '#userCenterMeunList',
      userCenterContent: '#userCenterContent',
      userMoneyMangContent: '#userMoneyMangContent',
      userMoneyMangMeun: '#userMoneyMangMeun'
    }

    var router = function (domLink, domChildLink) {
      switch (domLink) {
        // 主页
        case null:
        case 'home':
        // 活动
        case 'active':
          if (domLink == null) {
            domLink = 'home'
          };
          $(meunDom.contantBox).load('./template/home/' + domLink + '.html', function () {
            $("li[data-link =" + domLink + "]").addClass("active").siblings().removeClass('active');
            if (domLink == "home") {
              window.history.pushState({
                time: new Date()
              }, "", window.location.href.split('?')[0]);
            } else if (domLink == "active") {
              window.history.pushState({
                time: new Date()
              }, "", window.location.href.split('?')[0] + '?id=' + domLink);
            }
          });
          break;
        case 'money':
          $(meunDom.headerNav).removeClass('active');
          $(meunDom.contantBox).load('./template/money/money.html', function () {

            switch (domChildLink) {
              // 充值
              case 'topUpMoney':
              // 提款
              case 'withdrawalsMoney':
              // 转账
              case 'transferMoney':
                $(meunDom.userMoneyMangContent).load('./template/money/management/' + domChildLink + '.html', function () {
                  $("li[data-link =" + domChildLink + "]").addClass('active').siblings().removeClass('active');
                  
                  $(meunDom.userMoneyMangMeun + '>li').on("click", function () {
                   
                    $(meunDom.userMoneyMangMeun + '>li').removeClass('active');
                    $("li[data-link =" + domChildLink + "]").addClass('active');
                    router(getUrlKey('id'), $(this).attr("data-link"));
                    $(meunDom.userMoneyMangMeun + '>li').unbind();
                  })
                  window.history.pushState({
                    time: new Date()
                  }, "", window.location.href.split('?')[0] + '?id=money&childId=' + domChildLink);
                })
                break;
            }
          })
          break;
        case 'user':
          $(meunDom.headerNav).removeClass('active');
          $(meunDom.contantBox).load('./template/userCenter/user.html', function () {
            $(meunDom.userCenterMeunList + " li[data-link =" + domChildLink + "]").parent('ul').show().parent(
              'div').siblings().find("ul").hide()
            $("li[data-link =" + domChildLink + "]").addClass('active');
            $(meunDom.userCenterMeunList + ">div").on('click', function () {
              $(this).find('ul').slideDown('fast').end().siblings().find("ul").slideUp('fast');
            });
            $(meunDom.userCenterMeunList + ">div>ul>li").on('click', function () {
              $(meunDom.userCenterMeunList + ">div>ul>li").removeClass("active");
              $("li[data-link =" + domChildLink + "]").addClass('active');
              router(getUrlKey('id'), $(this).attr("data-link"));
              $(meunDom.userCenterMeunList + ">div>ul>li").unbind();
            });
            switch (domChildLink) {
              // 个人中心
              case 'personalData':
              case 'changePassword':
              case 'bindCard':
              case 'bonusPlay':
                $(meunDom.userCenterContent).load('./template/userCenter/personaInfo/' + domChildLink +
                  '.html',
                  function () {
                    window.history.pushState({
                      time: new Date()
                    }, "", window.location.href.split('?')[0] + '?id=user&childId=' + domChildLink);
                  })
                break;
              // 游戏记录
              case 'queryOrder':
              case 'chaseRecord':
              case 'ptRecord':
              case 'gaRecord':
              case 'shababRecord':
              case 'agRecord':
                $(meunDom.userCenterContent).load('./template/userCenter/gameRecord/' + domChildLink +
                  '.html',
                  function () {
                    window.history.pushState({
                      time: new Date()
                    }, "", window.location.href.split('?')[0] + '?id=user&childId=' + domChildLink);
                  })
                break;
              // 资金记录
              case 'withdrawalsRecords':
              case 'moneyDetail':
                $(meunDom.userCenterContent).load('./template/userCenter/moneyRecord/' + domChildLink +
                  '.html',
                  function () {
                    window.history.pushState({
                      time: new Date()
                    }, "", window.location.href.split('?')[0] + '?id=user&childId=' + domChildLink);
                  })
                break;
              // 代理团队
              case 'vipManagement':
              case 'vipReport':
              case 'lowerOrders':
              case 'preferentiallist':
                $(meunDom.userCenterContent).load('./template/userCenter/agentTeam/' + domChildLink + '.html',
                  function () {
                    window.history.pushState({
                      time: new Date()
                    }, "", window.location.href.split('?')[0] + '?id=user&childId=' + domChildLink);
                  })
                break;
              // 信息管理
              case 'inBox':
              case 'outBox':
              case 'sendBox':
                $(meunDom.userCenterContent).load('./template/userCenter/Information/' + domChildLink + '.html',
                  function () {
                    window.history.pushState({
                      time: new Date()
                    }, "", window.location.href.split('?')[0] + '?id=user&childId=' + domChildLink);
                  })
                break;
            }
          })
          break;
        default:
          $(meunDom.contantBox).load('./template/home/home.html', function () {
            window.history.pushState({
              time: new Date()
            }, "", window.location.href.split('?')[0]);
          });
      }

    }

    $(meunDom.header).load("./template/header.html", function () {
      $(meunDom.navLogo).attr('src', './image/index/logo.png');
      router(getUrlKey('id'), getUrlKey('childId'))
      //导航点击
      $(meunDom.headerNav).on('click', function () {
        $(this).attr("data-link") == undefined ? router(null) : router($(this).attr("data-link"));
      });
      $(meunDom.userCenterMeun).on('click', function () {
        router('user', $(this).attr("data-link"))
      });
      $(meunDom.headerMeun + '>li').on('click', function () {
        router('money', $(this).attr("data-link"))
      })

      // hover 菜单显示隐藏
      $(meunDom.LotteryZone).mouseenter(function () {
        $(meunDom.lotteryMeun).show();
        $(meunDom.LotteryZoneDd).show();
      }).mouseleave(function () {
        $(meunDom.lotteryMeun).hide();
        $(meunDom.LotteryZoneDd).hide();
      })
      $(meunDom.lotteryMeun).mouseenter(function () {
        $(meunDom.lotteryMeun).show();
        $(meunDom.LotteryZoneDd).show();
      }).mouseleave(function () {
        $(meunDom.lotteryMeun).hide();
        $(meunDom.LotteryZoneDd).hide();
      })
      $(meunDom.userCenter).mouseenter(function () {
        $(meunDom.userMeun).show();
        $(meunDom.userCenterDd).show();
      }).mouseleave(function () {
        $(meunDom.userMeun).hide();
        $(meunDom.userCenterDd).hide();
      })
      $(meunDom.userMeun).mouseenter(function () {
        $(meunDom.userMeun).show();
        $(meunDom.userCenterDd).show();
      }).mouseleave(function () {
        $(meunDom.userMeun).hide();
        $(meunDom.userCenterDd).hide();
      })
    })
    // 加载底部
    $(meunDom.footer).load("./template/footer.html", function () {
      $(meunDom.footerLogo).attr('src', './image/index/footerbg.png');
    });
  })

</script>

<script type="text/javascript">
  $(function () {
    $('#announcement_scroll').easyScroll({
      scrollAutoHide: false,
      scrollOffset: 0,
      scrollButtons: true,
      scrollHorizontal: true
    });
  })

</script>